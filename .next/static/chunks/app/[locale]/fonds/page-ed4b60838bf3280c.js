(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9100],{707:(e,t,l)=>{"use strict";l.d(t,{A:()=>d});var a=l(5155),s=l(2115),r=l(5476),n=l(1779),i=l(6648),o=l(3614);function d(e){let{items:t}=e,[l,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(0),[m,u]=(0,s.useState)(0);if(!t||0===t.length)return null;let v=t.map(e=>"video"===e.type?{type:"video",sources:[{src:e.url,type:e.mime||"video/mp4"}],poster:e.posterUrl,width:1920,height:1080}:{src:e.url,alt:e.alt||"",width:1920,height:1080}),x=Math.ceil(t.length/3);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fond-gallery-slider-container",children:[(0,a.jsx)("div",{className:"fond-gallery-slider",children:(0,a.jsx)("div",{className:"fond-gallery-slides",style:{transform:"translateX(-".concat(100*m,"%)"),transition:"transform 0.3s ease-in-out"},children:Array.from({length:x},(e,l)=>(0,a.jsx)("div",{className:"fond-gallery-slide",children:t.slice(3*l,(l+1)*3).map((e,t)=>{let s=3*l+t,r="video"===e.type;return(0,a.jsx)("div",{className:"fond-gallery-item",onClick:()=>{h(s),d(!0)},style:{animationDelay:"".concat(.1*t,"s")},children:(0,a.jsxs)("div",{className:"fond-gallery-image",children:[r?e.posterUrl?(0,a.jsx)(i.A,{src:e.posterUrl,alt:e.alt||"Video ".concat(s+1),fill:!0,className:"object-cover transition-transform duration-300 hover:scale-105",sizes:"(max-width: 768px) 33vw, (max-width: 1200px) 25vw, 20vw"}):(0,a.jsx)(o.A,{src:e.url,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",muted:!0,preload:"none",style:{pointerEvents:"none"},poster:"",type:e.mime||"video/mp4"}):(0,a.jsx)(i.A,{src:e.url,alt:e.alt||"Gallery image ".concat(s+1),fill:!0,className:"object-cover transition-transform duration-300 hover:scale-105",sizes:"(max-width: 768px) 33vw, (max-width: 1200px) 25vw, 20vw"}),(0,a.jsx)("div",{className:"fond-gallery-overlay",children:r?(0,a.jsx)("span",{className:"inline-block rounded-full p-3 backdrop-blur-sm shadow-lg",style:{background:"linear-gradient(135deg, rgba(79, 74, 71, 0.9) 0%, rgba(148, 95, 56, 0.9) 100%)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,a.jsx)("svg",{width:"24",height:"24",fill:"white",viewBox:"0 0 24 24",className:"drop-shadow-sm",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}):(0,a.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]})},s)})},l))})}),x>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{u(e=>(e-1+x)%x)},className:"fond-gallery-nav fond-gallery-nav-prev","aria-label":"Previous images",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("button",{onClick:()=>{u(e=>(e+1)%x)},className:"fond-gallery-nav fond-gallery-nav-next","aria-label":"Next images",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,a.jsx)(r.Ay,{open:l,close:()=>d(!1),index:c,slides:v,plugins:[n.A],animation:{fade:300},controller:{closeOnBackdropClick:!0},toolbar:{buttons:["close"]},render:{buttonPrev:v.length<=1?()=>null:void 0,buttonNext:v.length<=1?()=>null:void 0}})]})}l(9159)},1045:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var a=l(5155),s=l(2115),r=l(6648),n=l(707);function i(e){var t,l;let{initialData:i,locale:o,dict:d}=e,[c,h]=(0,s.useState)(i.data),[m,u]=(0,s.useState)(1),[v,x]=(0,s.useState)(!1),[p,f]=(0,s.useState)(i.meta.pagination.page<i.meta.pagination.pageCount),g=async()=>{if(!v&&p){x(!0);try{let e=m+1,t=await fetch("/api/fonds?locale=".concat(o,"&page=").concat(e,"&pageSize=10"));if(t.ok){let l=await t.json();h(e=>[...e,...l.data]),u(e),f(e<l.meta.pagination.pageCount)}}catch(e){console.error("Failed to load more fonds:",e)}finally{x(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fonds-grid",children:c.length>0?c.map(e=>{var t,l,s,i,o,c,h;let m=(null==(t=e.title)?void 0:t.trim())||"Untitled Archive",u=(null==(l=e.about)?void 0:l.trim())||"No description available.",v=e.architect,x=e.media||[],p=e=>e?e.startsWith("http")||e.startsWith("//")?e:"https://cms.archmuseum.am".replace(/\/$/,"")+(e.startsWith("/")?e:"/"+e):"",f=(null==v?void 0:v.url)?p((null==(i=v.formats)||null==(s=i.medium)?void 0:s.url)||(null==(c=v.formats)||null==(o=c.small)?void 0:o.url)||v.url):null,g=x.map(e=>{var t,l;return{type:"image",url:p((null==(l=e.formats)||null==(t=l.large)?void 0:t.url)||e.url),alt:e.alternativeText||m}});return(0,a.jsxs)("article",{className:"fond-card ".concat(f?"":"fond-card-no-image"),children:[f&&(0,a.jsx)("div",{className:"fond-architect-section",children:(0,a.jsx)("div",{className:"fond-architect-image",children:(0,a.jsx)(r.A,{src:f,alt:(null==v?void 0:v.alternativeText)||"Architect for ".concat(m),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})}),(0,a.jsxs)("div",{className:"fond-content",children:[(0,a.jsx)("h2",{className:"fond-title",children:m}),(0,a.jsx)("div",{className:"fond-description",dangerouslySetInnerHTML:{__html:u}}),x&&x.length>0&&(0,a.jsxs)("div",{className:"fond-gallery-section",children:[(0,a.jsx)("h3",{className:"fond-gallery-title",children:(null==(h=d.fonds)?void 0:h.architecturalWorks)||"Architectural Works"}),(0,a.jsx)(n.A,{items:g})]})]})]},e.id)}):(0,a.jsx)("div",{className:"text-center text-secondary-dark/60 py-12",children:(0,a.jsx)("p",{children:(null==(t=d.fonds)?void 0:t.noFondsFound)||"No archive collections found."})})}),p&&(0,a.jsx)("div",{className:"text-center mt-12",children:(0,a.jsx)("button",{onClick:g,disabled:v,className:"bg-accent text-white px-8 py-3 rounded-lg font-semibold hover:bg-accent/90 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Loading...":(null==(l=d.fonds)?void 0:l.loadMore)||"Load More"})})]})}l(8846)},3614:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(5155);let s=(0,l(2115).forwardRef)((e,t)=>{let{src:l,type:s="video/mp4",...r}=e,n=(null==l?void 0:l.startsWith("http"))?l:"".concat("https://cms.archmuseum.am").concat(l);return(0,a.jsx)("video",{ref:t,...r,children:(0,a.jsx)("source",{src:n,type:s})})});s.displayName="StrapiVideo";let r=s},6648:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(5155),s=l(5239);function r(e){let{src:t,alt:l,...r}=e,n=(null==t?void 0:t.startsWith("http"))?t:"".concat("https://cms.archmuseum.am").concat(t);return(0,a.jsx)(s.default,{alt:l||"",src:n,...r})}},6891:(e,t,l)=>{Promise.resolve().then(l.bind(l,9864)),Promise.resolve().then(l.bind(l,7608)),Promise.resolve().then(l.bind(l,5105)),Promise.resolve().then(l.bind(l,1045)),Promise.resolve().then(l.t.bind(l,2925,23))},8846:()=>{}},e=>{e.O(0,[3057,5296,5197,6446,2619,2277,2085,9151,8441,1255,7358],()=>e(e.s=6891)),_N_E=e.O()}]);
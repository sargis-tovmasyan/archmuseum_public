(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1607],{3614:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5155);let i=(0,r(2115).forwardRef)((e,t)=>{let{src:r,type:i="video/mp4",...o}=e,s=(null==r?void 0:r.startsWith("http"))?r:"".concat("https://archmuseum-cms.onrender.com").concat(r);return(0,n.jsx)("video",{ref:t,...o,children:(0,n.jsx)("source",{src:s,type:i})})});i.displayName="StrapiVideo";let o=i},5571:(e,t,r)=>{Promise.resolve().then(r.bind(r,9967)),Promise.resolve().then(r.bind(r,9864)),Promise.resolve().then(r.bind(r,7608)),Promise.resolve().then(r.bind(r,5105)),Promise.resolve().then(r.t.bind(r,2925,23)),Promise.resolve().then(r.t.bind(r,9139,23))},9139:()=>{},9967:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155),i=r(2115),o=r(7650),s=r(5239),l=r(3614);function u(e){let{children:t,hasVideo:r,videos:u}=e,[a,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)({top:0,left:0}),p=(0,i.useRef)(null),f=(0,i.useRef)(null),m=(0,i.useRef)(null),v=(0,i.useRef)({width:600,height:400}),x=(0,i.useCallback)((e,t)=>{let r=v.current.width,n=v.current.height,i=window.innerWidth,o=window.innerHeight,s=t-20-n;s<16&&(s=t+20);let l=e-r/2;return l<16&&(l=16),l+r>i-16&&(l=Math.max(16,i-r-16)),s+n>o-16&&(s=Math.max(16,o-n-16)),{top:Math.round(s),left:Math.round(l)}},[]),b=(0,i.useCallback)(()=>{let e=p.current;if(!e)return;let t=e.getBoundingClientRect();v.current={width:Math.round(t.width),height:Math.round(t.height)}},[]);(0,i.useLayoutEffect)(()=>{if(!a)return;b();let e=requestAnimationFrame(()=>{b(),m.current&&h(x(m.current.x,m.current.y))});return()=>cancelAnimationFrame(e)},[a,b,x]),(0,i.useEffect)(()=>{a&&m.current&&h(x(m.current.x,m.current.y))},[x,a]),(0,i.useEffect)(()=>{let e=()=>{a&&requestAnimationFrame(()=>{b(),m.current&&h(x(m.current.x,m.current.y))})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a,b,x]);let[g,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>w("undefined"!=typeof document),[]);let y=a&&r&&u&&u.length>0?(0,n.jsx)("div",{ref:p,style:{position:"fixed",top:"".concat(d.top,"px"),left:"".concat(d.left,"px"),width:"600px",height:"400px",boxSizing:"border-box",padding:0,border:"none",background:"transparent",zIndex:100,pointerEvents:"none",transform:"translateZ(0)"},"aria-hidden":!0,children:(0,n.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative",borderRadius:"10px",overflow:"hidden",background:"#000",boxShadow:"0 10px 30px rgba(0,0,0,0.35)"},children:[(0,n.jsx)("div",{style:{position:"absolute",top:8,right:8,pointerEvents:"none",zIndex:2},children:(0,n.jsx)(s.default,{src:"/images/drone.gif",alt:"Drone",width:100,height:100,unoptimized:!0})}),(0,n.jsx)(l.A,{ref:f,src:u[0].url,muted:!0,playsInline:!0,loop:!0,controls:!1,preload:"metadata",crossOrigin:"anonymous",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",border:"none",outline:"none"},onError:e=>console.error("Video error:",e.currentTarget.error)})]})}):null;return(0,n.jsxs)("div",{className:"relative inline-block w-full",children:[(0,n.jsx)("div",{onMouseEnter:e=>{if(r){var t,n;m.current={x:t=e.clientX,y:n=e.clientY},h(x(t,n)),c(!0),setTimeout(()=>{try{var e;null==(e=f.current)||e.play().catch(()=>{})}catch(e){}},50)}},onMouseMove:e=>{r&&a&&(m.current={x:e.clientX,y:e.clientY},requestAnimationFrame(()=>h(x(e.clientX,e.clientY))))},onMouseLeave:()=>{var e;null==(e=f.current)||e.pause(),f.current&&(f.current.currentTime=0),c(!1),m.current=null},className:"cursor-pointer",children:t}),g&&y?(0,o.createPortal)(y,document.body):y]})}}},e=>{e.O(0,[3057,9712,6446,2619,2277,9151,8441,1255,7358],()=>e(e.s=5571)),_N_E=e.O()}]);